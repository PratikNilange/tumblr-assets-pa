$(function(){app.onImagesLoad(),app.initInfinite(),app.fitVids(),app.initPhotoset(),app.initNotes(),app.scrollPostback()});var app={fitVids:function(){$(".js-fitvids").fitVids(),$(".js-fitvids").fitVids({customSelector:"iframe[src^='https://www.tumblr.com'], iframe[src^='https://w.soundcloud.com/'], iframe[src^='http://embed.spotify.com/']"})},initPhotoset:function(){$(".photo-slideshow").pxuPhotoset({lightbox:!0,highRes:!0,rounded:!1,exif:!1,captions:!1,gutter:"15px",photoset:".photo-slideshow",photoWrap:".photo-data",photo:".pxu-photo"})},initNotes:function(){$(".permalink #notes-link").click(function(a){return a.preventDefault(),$(this).toggleClass("active"),$(".notes").toggle(),!1})},initInfinite:function(){var a=$(".page-index #posts");a.infinitescroll({navSelector:".pagination",nextSelector:".pagination-next",itemSelector:"article",appendCallback:!0,loading:{finishedMsg:" ",img:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",msg:null,msgText:" ",selector:null,finished:function(){}}},function(a){var b=$(a).css({opacity:0}),c=b.map(function(){return this.id}).get();b.imagesLoaded(function(){b.animate({opacity:1}),b.find(".photo-slideshow").pxuPhotoset(),app.fitVids(),$(".js-fitvids").fitVids({customSelector:"iframe[src^='https://www.tumblr.com'], iframe[src^='https://w.soundcloud.com/'], iframe[src^='http://embed.spotify.com/']"})});var c=b.map(function(){return this.id}).get();Tumblr.LikeButton.get_status_by_post_ids(c)})},scrollPostback:function(){var a=parseInt($.cookie("top"));a&&$(document).scrollTop(a),$(document).scroll(function(){var a=$(document).scrollTop();$.cookie("top",a)})},onImagesLoad:function(){$(".content .posts").imagesLoaded().always(function(a){$(".overlay").addClass("hide"),$(".overlay").one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(){$(".overlay__preloader").attr("class",""),$(".scene_element").addClass("scene_element--fadein"),$(".header__left").addClass("animate-in"),$(".header__nav").children("li").each(function(a){delay=100*a+400,$(this).delay(delay).animate({opacity:1,top:0},500)})})})}};